{
    menuDef
    {
        name                        "popup_secondary_attachments"
        rect                        -64 0 854 224 1 1
        style                       1
        backcolor                   1 1 1 1
        focuscolor                  1 1 1 1
        background                  "white"
        outOfBoundsClick            
        popup                       
        fadeClamp                   1
        fadeCycle                   1
        fadeAmount                  0.1
        allowedBinding              "+talk"
        visible                     when(localvarint("ui_tabDepth") == localvarint("ui_popup_secondary_attachments_tabDepth"));
        exp rect Y                  localvarfloat("ui_popupYPos") + localvarint("ui_tabDepth") * 20;
        onOpen
        {
            focusFirst;
            setLocalVarInt ui_tabDepth (localvarint("ui_tabDepth") + 1);
            setLocalVarInt ui_popup_secondary_attachments_tabDepth (localvarint("ui_tabDepth"));
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
            focusFirst;
        }
        onClose
        {
            setLocalVarInt ui_tabDepth (localvarint("ui_tabDepth") - 1);
        }
        onESC
        {
            close self;
        }
        execKeyInt 168
        {
            if (localvarstring("ui_selected_ref") != "none" && !isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")))
            {
                open menu_challenge_detail_popup;
            }
        }
        itemDef
        {
            rect                        -854 -480 1708 960 1 1
            style                       1
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            backcolor                   0 0 0 0.35
            background                  "white"
        }
        itemDef
        {
            rect                        -854 -480 1708 960 1 1
            style                       1
            decoration                  
            visible                     1
            textscale                   0.55
            backcolor                   1 1 1 1
            background                  "xpbar_stencilbase"
        }
        itemDef
        {
            rect                        0 0 854 224 1 1
            style                       1
            decoration                  
            visible                     1
            textscale                   0.55
            backcolor                   0.5 0.5 0.5 1
            background                  "white"
        }
        itemDef
        {
            rect                        0 0 1708 480 0 0
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   1 1 1 0.75
            background                  "mw2_popup_bg_fogstencil"
            exp rect x                  0 - ((float(milliseconds() % 60000) / 60000) * (854));
        }
        itemDef
        {
            rect                        0 0 -1708 -480 0 0
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "mw2_popup_bg_fogscroll"
            exp rect x                  0 - ((float(milliseconds() % 60000) / 60000) * (854));
        }
        itemDef
        {
            rect                        0 0 854 0 0 0
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            background                  "mockup_popup_bg_stencilfill"
            exp rect h                  (24 + 10 * 20);
        }
        itemDef
        {
            rect                        0 0 -1708 -480 0 0
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   1 1 1 0.75
            background                  "mw2_popup_bg_fogstencil"
            exp rect x                  (- 854) + ((float(milliseconds() % 50000) / 50000) * (854));
        }
        itemDef
        {
            rect                        0 0 -1708 -480 0 0
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "mw2_popup_bg_fogscroll"
            exp rect x                  (- 854) + ((float(milliseconds() % 50000) / 50000) * (854));
        }
        itemDef
        {
            rect                        0 0 854 0 1 1
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   1 1 1 0
            background                  "small_box_lightfx"
            exp rect h                  (24 + 10 * 20);
        }
        itemDef
        {
            rect                        -32 -32 32 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_tl"
        }
        itemDef
        {
            rect                        0 -32 854 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_t"
        }
        itemDef
        {
            rect                        854 -32 32 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_tr"
        }
        itemDef
        {
            rect                        854 0 32 0 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_r"
            exp rect h                  (24 + 10 * 20);
        }
        itemDef
        {
            rect                        854 0 32 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_br"
            exp rect y                  (0 - 0) + ((24 + 10 * 20));
        }
        itemDef
        {
            rect                        0 0 854 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_b"
            exp rect y                  (0 - 0) + ((24 + 10 * 20));
        }
        itemDef
        {
            rect                        -32 0 32 32 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_bl"
            exp rect y                  (0 - 0) + ((24 + 10 * 20));
        }
        itemDef
        {
            rect                        -32 0 32 0 0 0
            style                       3
            decoration                  
            visible                     when(!localvarint("ui_centerPopup"));
            textscale                   0.55
            forecolor                   0 0 0 1
            background                  "drop_shadow_l"
            exp rect h                  (24 + 10 * 20);
        }
        itemDef
        {
            rect                        0 0 280 224 1 1
            style                       1
            decoration                  
            visible                     1
            textscale                   0.55
            backcolor                   1 1 1 0
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (1 - 1));
            textscale                   0.55
            backcolor                   0.25 0.25 0.25 1
            background                  "white"
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 1) * 20);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (1 - 1));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    9
            backcolor                   0 0 0 1
            background                  "gradient_fadein"
            exp text                    localvarstring("ui_tab1Name");
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 1) * 20);
            exp forecolor r             1 - ((localvarint("ui_tabDepth") > 1) * 0.35);
            exp forecolor g             1 - ((localvarint("ui_tabDepth") > 1) * 0.35);
            exp forecolor b             1 - ((localvarint("ui_tabDepth") > 1) * 0.35);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (2 - 1));
            textscale                   0.55
            backcolor                   0.25 0.25 0.25 1
            background                  "white"
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 2) * 20);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (2 - 1));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    9
            backcolor                   0 0 0 1
            background                  "gradient_fadein"
            exp text                    localvarstring("ui_tab2Name");
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 2) * 20);
            exp forecolor r             1 - ((localvarint("ui_tabDepth") > 2) * 0.35);
            exp forecolor g             1 - ((localvarint("ui_tabDepth") > 2) * 0.35);
            exp forecolor b             1 - ((localvarint("ui_tabDepth") > 2) * 0.35);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (3 - 1));
            textscale                   0.55
            backcolor                   0.25 0.25 0.25 1
            background                  "white"
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 3) * 20);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (3 - 1));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    9
            backcolor                   0 0 0 1
            background                  "gradient_fadein"
            exp text                    localvarstring("ui_tab3Name");
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 3) * 20);
            exp forecolor r             1 - ((localvarint("ui_tabDepth") > 3) * 0.35);
            exp forecolor g             1 - ((localvarint("ui_tabDepth") > 3) * 0.35);
            exp forecolor b             1 - ((localvarint("ui_tabDepth") > 3) * 0.35);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (4 - 1));
            textscale                   0.55
            backcolor                   0.25 0.25 0.25 1
            background                  "white"
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 4) * 20);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (4 - 1));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    9
            backcolor                   0 0 0 1
            background                  "gradient_fadein"
            exp text                    localvarstring("ui_tab4Name");
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 4) * 20);
            exp forecolor r             1 - ((localvarint("ui_tabDepth") > 4) * 0.35);
            exp forecolor g             1 - ((localvarint("ui_tabDepth") > 4) * 0.35);
            exp forecolor b             1 - ((localvarint("ui_tabDepth") > 4) * 0.35);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (5 - 1));
            textscale                   0.55
            backcolor                   0.25 0.25 0.25 1
            background                  "white"
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 5) * 20);
        }
        itemDef
        {
            rect                        0 0 280 20 1 1
            style                       1
            decoration                  
            visible                     when(localvarint("ui_tabDepth") > (5 - 1));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    9
            backcolor                   0 0 0 1
            background                  "gradient_fadein"
            exp text                    localvarstring("ui_tab5Name");
            exp rect y                  - 20 - ((localvarint("ui_tabDepth") - 5) * 20);
            exp forecolor r             1 - ((localvarint("ui_tabDepth") > 5) * 0.35);
            exp forecolor g             1 - ((localvarint("ui_tabDepth") > 5) * 0.35);
            exp forecolor b             1 - ((localvarint("ui_tabDepth") > 5) * 0.35);
        }
        itemDef
        {
            name                        "cac_attachment_-1"
            group                       "mw2_popup_button"
            rect                        0 4 336 20 0 0
            style                       1
            type                        1
            visible                     when("none" != "");
            disabled                    when("none" != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + ("none")) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, "none")) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref ("none");
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + "none");
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName "none";
                    if ((localvarstring("ui_attachment1") == "none" || localvarstring("ui_attachment2") == "none"))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == "none")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName "none";
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, "none", 3);
        }
        itemDef
        {
            rect                        226 4 40 20 1 1
            style                       3
            decoration                  
            visible                     when("none" != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), "none");
        }
        itemDef
        {
            rect                        226 4 40 20 1 1
            style                       3
            decoration                  
            visible                     when("none" != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + "none") == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_0"
            group                       "mw2_popup_button"
            rect                        0 24 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11), 3);
        }
        itemDef
        {
            rect                        226 24 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11));
        }
        itemDef
        {
            rect                        226 24 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 11)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_1"
            group                       "mw2_popup_button"
            rect                        0 44 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12), 3);
        }
        itemDef
        {
            rect                        226 44 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12));
        }
        itemDef
        {
            rect                        226 44 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 12)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_2"
            group                       "mw2_popup_button"
            rect                        0 64 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13), 3);
        }
        itemDef
        {
            rect                        226 64 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13));
        }
        itemDef
        {
            rect                        226 64 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 13)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_3"
            group                       "mw2_popup_button"
            rect                        0 84 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14), 3);
        }
        itemDef
        {
            rect                        226 84 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14));
        }
        itemDef
        {
            rect                        226 84 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 14)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_4"
            group                       "mw2_popup_button"
            rect                        0 104 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15), 3);
        }
        itemDef
        {
            rect                        226 104 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15));
        }
        itemDef
        {
            rect                        226 104 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 15)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_5"
            group                       "mw2_popup_button"
            rect                        0 124 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16), 3);
        }
        itemDef
        {
            rect                        226 124 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16));
        }
        itemDef
        {
            rect                        226 124 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 16)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_6"
            group                       "mw2_popup_button"
            rect                        0 144 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17), 3);
        }
        itemDef
        {
            rect                        226 144 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17));
        }
        itemDef
        {
            rect                        226 144 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 17)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_7"
            group                       "mw2_popup_button"
            rect                        0 164 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18), 3);
        }
        itemDef
        {
            rect                        226 164 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18));
        }
        itemDef
        {
            rect                        226 164 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 18)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_8"
            group                       "mw2_popup_button"
            rect                        0 184 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19), 3);
        }
        itemDef
        {
            rect                        226 184 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19));
        }
        itemDef
        {
            rect                        226 184 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 19)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            name                        "cac_attachment_9"
            group                       "mw2_popup_button"
            rect                        0 204 336 20 0 0
            style                       1
            type                        1
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20) != "");
            disabled                    when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20) != "" && (!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20))) || (FUNC_35() && tablelookup("mp/attachmentCombos.csv", 0, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), tablegetrownum("mp/attachmentCombos.csv", 0, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20))) == "no")));
            textalign                   4
            textalignx                  68
            textscale                   0.375
            textfont                    3
            disablecolor                0.6 0.55 0.55 1
            background                  "popup_button_selection_bar_short"
            onFocus
            {
                play mouse_over;
                if (dvarstring(gameMode) != "mp")
                {
                    setItemColor mw2_popup_button backcolor 0 0 0 0;
                }
                setItemColor self backcolor 0 0 0 1;
                setLocalVarBool ui_popupAButton 1;
                setLocalVarString ui_selected_ref (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20));
                setLocalVarString ui_weapon_ref getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setLocalVarString ui_unlock_ref (localvarstring("ui_weapon_ref") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20));
                setLocalVarString ui_challenge_ref (tablelookup("mp/unlockTable.csv", 0, localvarstring("ui_unlock_ref"), 3));
                setLocalVarInt ui_challenge_state 1;
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_2"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 2;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_3"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 3;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_4"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 4;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_5"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 5;
                }
                if ((localvarstring("ui_challenge_ref") == "ch_marksman_" + localvarstring("ui_weapon_ref") + "_6"))
                {
                    setLocalVarString ui_challenge_ref "ch_marksman_" + localvarstring("ui_weapon_ref");
                    setLocalVarInt ui_challenge_state 6;
                }
            }
            leaveFocus
            {
                setItemColor self backcolor 1 1 1 0;
                setLocalVarBool ui_popupAButton 0;
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                if (localvarstring("ui_selected_ref") != "")
                {
                    setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                }
            }
            action
            {
                play mouse_click;
                if (localvarint("ui_tabDepth") == 0)
                {
                    setLocalVarString ui_tab1Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                if (localvarint("ui_tabDepth") == 1)
                {
                    setLocalVarString ui_tab2Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                if (localvarint("ui_tabDepth") == 2)
                {
                    setLocalVarString ui_tab3Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                if (localvarint("ui_tabDepth") == 3)
                {
                    setLocalVarString ui_tab4Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                if (localvarint("ui_tabDepth") == 4)
                {
                    setLocalVarString ui_tab5Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                if (localvarint("ui_tabDepth") == 5)
                {
                    setLocalVarString ui_tab6Name ("@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3));
                }
                setLocalVarString tempName getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon");
                setPlayerData ( attachmentNew , localVarString ( tempName ) , localVarString ( ui_selected_ref ) , false );
                if (menuisopen("popup_primary_attachments_bling") || menuisopen("popup_secondary_attachments_bling"))
                {
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20);
                    if ((localvarstring("ui_attachment1") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20) || localvarstring("ui_attachment2") == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20)))
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20));
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , none );
                    }
                    else
                    {
                        setLocalVarInt tempInt (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0) != "none");
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , localVarInt ( tempInt ) , localVarString ( tempName ) );
                    }
                    setLocalVarString ui_attachment1 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0);
                    setLocalVarString ui_attachment2 getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1);
                    setLocalVarInt ui_numAttachments 0;
                    if (localvarstring("ui_attachment1") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (localvarstring("ui_attachment2") != "none")
                    {
                        setLocalVarInt ui_numAttachments (localvarint("ui_numAttachments") + 1);
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
                else
                {
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    if (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1) == "specialty_bling" && getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1) == tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20))
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 1 , none );
                    }
                    setLocalVarString tempName tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20);
                    setPlayerData ( customClasses , localVarInt ( classIndex ) , weaponSetups , 1 , attachment , 0 , localVarString ( tempName ) );
                    if (1 == 0)
                    {
                        open popup_cac_primary_camo;
                    }
                    else
                    {
                        close popup_cac_weapon_primary;
                        close popup_primary_attachments close popup_secondary_attachments close popup_cac_weapon_secondary;
                        close popup_cac_handgun_secondary;
                        close popup_cac_machinePistols_secondary;
                        close popup_cac_assault_primary;
                        close popup_cac_SMG_primary;
                        close popup_cac_LMG_primary;
                        close popup_cac_sniper_primary;
                        close popup_cac_shotgun_primary;
                        close popup_cac_assault_secondary;
                        close popup_cac_SMG_secondary;
                        close popup_cac_LMG_secondary;
                        close popup_cac_sniper_secondary;
                        close popup_cac_shotgun_secondary;
                        close popup_cac_template;
                        close popup_cac_primary_camo;
                        close popup_cac_secondary_camo;
                        close popup_cac_bling;
                        close popup_cac_perk2;
                        close popup_cac_rocket_secondary;
                        close popup_primary_attachments_bling;
                        close popup_secondary_attachments_bling;
                        close popup_cac_other_primary;
                    }
                    if (!(tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0), 12) != "" || tablelookup("mp/attachmentTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0), 12) != "") && (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_gl" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_grip" || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_shotgun") || getplayerdata("customClasses", localvarint("classIndex"), "perks", 0) == "specialty_null_heartbeat")
                    {
                        setPlayerData ( customClasses , localVarInt ( classIndex ) , perks , 0 , specialty_null );
                    }
                    setLocalVarString loadoutPrimary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "weapon"));
                    setLocalVarString loadoutPrimaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 0));
                    setLocalVarString loadoutPrimaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "attachment", 1));
                    if (localvarstring("loadoutPrimaryAttachment2") == "")
                    {
                        setLocalVarString loadoutPrimaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutPrimaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 0, "camo"));
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutSecondary (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"));
                    setLocalVarString loadoutSecondaryAttachment (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 0));
                    setLocalVarString loadoutSecondaryAttachment2 (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "attachment", 1));
                    if (localvarstring("loadoutSecondaryAttachment2") == "")
                    {
                        setLocalVarString loadoutSecondaryAttachment2 ("none");
                    }
                    setLocalVarString loadoutSecondaryCamo (getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "camo"));
                    setLocalVarString loadoutEquipment (getplayerdata("customClasses", localvarint("classIndex"), "perks", 0));
                    setLocalVarString loadoutPerk1 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 1));
                    setLocalVarString loadoutPerk2 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 2));
                    setLocalVarString loadoutPerk3 (getplayerdata("customClasses", localvarint("classIndex"), "perks", 3));
                    setLocalVarString loadoutStreak1 (getplayerdata("killstreaks", 0));
                    setLocalVarString loadoutStreak2 (getplayerdata("killstreaks", 1));
                    setLocalVarString loadoutStreak3 (getplayerdata("killstreaks", 2));
                    setLocalVarString loadoutDeathStreak (getplayerdata("customClasses", localvarint("classIndex"), "perks", 4) ());
                    setLocalVarString loadoutOffhandSecondary (getplayerdata("customClasses", localvarint("classIndex"), "specialGrenade") ());
                    setLocalVarString loadoutClassName (getplayerdata("customClasses", localvarint("classIndex"), "name") ());
                }
            }
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20), 3);
        }
        itemDef
        {
            rect                        226 204 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20) != "");
            textscale                   0.55
            background                  "specialty_new"
            exp forecolor a             1 * getplayerdata("attachmentNew", getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20));
        }
        itemDef
        {
            rect                        226 204 40 20 1 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20) != "" && isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 20)) == 0);
            textscale                   0.55
            background                  "specialty_locked"
        }
        itemDef
        {
            rect                        8 0 200 224 2 1
            style                       3
            decoration                  
            visible                     1
            textscale                   0.55
            forecolor                   1 1 1 0.5
            background                  "small_box_lightfx"
        }
        itemDef
        {
            rect                        8 0 200 224 2 1
            decoration                  
            visible                     1
            textalign                   4
            textalignx                  4
            textscale                   0.375
            textfont                    9
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 3);
        }
        itemDef
        {
            rect                        76 20 64 64 2 1
            style                       3
            decoration                  
            visible                     when(localvarstring("ui_selected_ref") != "");
            textscale                   0.55
            exp material                tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 6);
        }
        itemDef
        {
            rect                        8 0 200 224 2 1
            decoration                  
            autowrapped                 
            visible                     when(isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")));
            textalign                   6
            textalignx                  -4
            textaligny                  84
            textscale                   0.375
            textfont                    3
            forecolor                   1 1 1 0.65
            exp text                    "@" + tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 7);
        }
        itemDef
        {
            text                        "@MPUI_UNLOCKED_BY_CHALLENGE_PRE"
            rect                        8 0 200 224 2 1
            decoration                  
            autowrapped                 
            visible                     when(!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")));
            textalign                   6
            textalignx                  -4
            textaligny                  84
            textscale                   0.375
            textfont                    3
            forecolor                   1 1 1 0.65
        }
        itemDef
        {
            rect                        8 0 200 224 2 1
            decoration                  
            autowrapped                 
            visible                     when(!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")));
            textalign                   6
            textalignx                  -4
            textaligny                  102
            textscale                   0.375
            textfont                    3
            forecolor                   1 1 1 0.65
            exp text                    locstring("@" + tablelookup("mp/allChallengesTable.csv", 0, localvarstring("ui_challenge_ref"), 1)) + locstring("@" + tablelookup("mp/allChallengesTable.csv", 0, localvarstring("ui_challenge_ref"), 3) + "_" + localvarint("ui_challenge_state"));
        }
        itemDef
        {
            rect                        8 0 200 224 2 1
            decoration                  
            autowrapped                 
            visible                     when(!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")));
            textalign                   6
            textalignx                  -4
            textaligny                  102
            textscale                   0.375
            textfont                    3
            exp text                    locstring("@" + tablelookup("mp/allChallengesTable.csv", 0, localvarstring("ui_challenge_ref"), 1)) + locstring("@" + tablelookup("mp/allChallengesTable.csv", 0, localvarstring("ui_challenge_ref"), 3) + "_" + localvarint("ui_challenge_state"));
        }
        itemDef
        {
            text                        "@PLATFORM_VIEW_CHALLENGE_DETAILS"
            rect                        8 0 200 224 2 1
            decoration                  
            autowrapped                 
            visible                     when(!isitemunlocked(getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon") + " " + localvarstring("ui_selected_ref")));
            textalign                   6
            textalignx                  -4
            textaligny                  164
            textscale                   0.375
            textfont                    3
            forecolor                   1 1 1 0.65
        }
        itemDef
        {
            text                        "@MPUI_ACCURACY"
            rect                        -64 22 120 4 3 1
            style                       1
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) && 1);
            textalign                   6
            textaligny                  -20
            textscale                   0.375
            textfont                    3
            backcolor                   0 0 0 1
            forecolor                   1 1 1 0.65
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        -64 22 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) && 1);
            textscale                   0.55
            forecolor                   0.75 1 0.7 0.85
            background                  "white"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 22 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) && 1);
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "gradient_fadein"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 22 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) && 1);
            textscale                   0.55
            forecolor                   1 1 0.25 0.65
            background                  "white"
            exp rect x                  - 64 + (0 - 120 * (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) / 100)) + ((0 - 120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 14) / 100)) * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 14) < 0));
            exp rect w                  min(120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 14) / 100), (1 - (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 22) / 100)) * 120);
            exp forecolor r             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 14) < 0) * 0.45 + 0.25;
            exp forecolor g             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 14) > 0) * 0.45 + 0.25;
        }
        itemDef
        {
            text                        "@MPUI_DAMAGE"
            rect                        -64 48 120 4 3 1
            style                       1
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) && 1);
            textalign                   6
            textaligny                  -20
            textscale                   0.375
            textfont                    3
            backcolor                   0 0 0 1
            forecolor                   1 1 1 0.65
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        -64 48 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) && 1);
            textscale                   0.55
            forecolor                   0.75 1 0.7 0.85
            background                  "white"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 48 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) && 1);
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "gradient_fadein"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 48 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) && 1);
            textscale                   0.55
            forecolor                   1 1 0.25 0.65
            background                  "white"
            exp rect x                  - 64 + (0 - 120 * (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) / 100)) + ((0 - 120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 15) / 100)) * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 15) < 0));
            exp rect w                  min(120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 15) / 100), (1 - (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 23) / 100)) * 120);
            exp forecolor r             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 15) < 0) * 0.45 + 0.25;
            exp forecolor g             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 15) > 0) * 0.45 + 0.25;
        }
        itemDef
        {
            text                        "@MPUI_RANGE"
            rect                        -64 74 120 4 3 1
            style                       1
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) && 1);
            textalign                   6
            textaligny                  -20
            textscale                   0.375
            textfont                    3
            backcolor                   0 0 0 1
            forecolor                   1 1 1 0.65
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        -64 74 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) && 1);
            textscale                   0.55
            forecolor                   0.75 1 0.7 0.85
            background                  "white"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 74 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) && 1);
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "gradient_fadein"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 74 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) && 1);
            textscale                   0.55
            forecolor                   1 1 0.25 0.65
            background                  "white"
            exp rect x                  - 64 + (0 - 120 * (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) / 100)) + ((0 - 120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 16) / 100)) * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 16) < 0));
            exp rect w                  min(120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 16) / 100), (1 - (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 24) / 100)) * 120);
            exp forecolor r             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 16) < 0) * 0.45 + 0.25;
            exp forecolor g             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 16) > 0) * 0.45 + 0.25;
        }
        itemDef
        {
            text                        "@MPUI_FIRE_RATE"
            rect                        -64 100 120 4 3 1
            style                       1
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) && 1);
            textalign                   6
            textaligny                  -20
            textscale                   0.375
            textfont                    3
            backcolor                   0 0 0 1
            forecolor                   1 1 1 0.65
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        -64 100 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) && 1);
            textscale                   0.55
            forecolor                   0.75 1 0.7 0.85
            background                  "white"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 100 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) && 1);
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "gradient_fadein"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 100 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) && 1);
            textscale                   0.55
            forecolor                   1 1 0.25 0.65
            background                  "white"
            exp rect x                  - 64 + (0 - 120 * (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) / 100)) + ((0 - 120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 17) / 100)) * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 17) < 0));
            exp rect w                  min(120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 17) / 100), (1 - (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 25) / 100)) * 120);
            exp forecolor r             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 17) < 0) * 0.45 + 0.25;
            exp forecolor g             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 17) > 0) * 0.45 + 0.25;
        }
        itemDef
        {
            text                        "@MPUI_MOBILITY"
            rect                        -64 126 120 4 3 1
            style                       1
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) && 0);
            textalign                   6
            textaligny                  -20
            textscale                   0.375
            textfont                    3
            backcolor                   0 0 0 1
            forecolor                   1 1 1 0.65
            background                  "gradient_fadein"
        }
        itemDef
        {
            rect                        -64 126 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) && 0);
            textscale                   0.55
            forecolor                   0.75 1 0.7 0.85
            background                  "white"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 126 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) && 0);
            textscale                   0.55
            forecolor                   0.85 0.85 0.85 1
            background                  "gradient_fadein"
            exp rect w                  (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) / 100) * 120;
        }
        itemDef
        {
            rect                        -64 126 120 2 3 1
            style                       3
            decoration                  
            visible                     when(tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) && 0);
            textscale                   0.55
            forecolor                   1 1 0.25 0.65
            background                  "white"
            exp rect x                  - 64 + (0 - 120 * (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) / 100)) + ((0 - 120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 18) / 100)) * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 18) < 0));
            exp rect w                  min(120 * (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 18) / 100), (1 - (tablelookup("mp/statsTable.csv", 4, getplayerdata("customClasses", localvarint("classIndex"), "weaponSetups", 1, "weapon"), 26) / 100)) * 120);
            exp forecolor r             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 18) < 0) * 0.45 + 0.25;
            exp forecolor g             (tablelookup("mp/attachmentTable.csv", 4, localvarstring("ui_selected_ref"), 18) > 0) * 0.45 + 0.25;
        }
    }
}
